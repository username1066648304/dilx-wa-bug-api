<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>UltraXweb</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <style>
    :root {
      --main: #4CAF50;
      --second: #2E7D32;
      --bg: #0a0a0a;
      --text: #f2f2f2;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: sans-serif;
    }

    body {
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      position: relative;
    }

    /* Header with Hamburger */
    .header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: rgba(10, 10, 10, 0.9);
      backdrop-filter: blur(5px);
      padding: 15px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      z-index: 1000;
      border-bottom: 1px solid rgba(76, 175, 80, 0.2);
    }

    .hamburger {
      cursor: pointer;
      display: flex;
      flex-direction: column;
      gap: 5px;
    }

    .hamburger-line {
      width: 25px;
      height: 3px;
      background-color: var(--main);
      transition: all 0.3s;
    }

    .logo {
      color: var(--main);
      font-weight: bold;
      font-size: 1.2rem;
    }

    /* Side Menu */
    .side-menu {
      position: fixed;
      top: 0;
      left: -300px;
      width: 250px;
      height: 100%;
      background: rgba(10, 10, 10, 0.95);
      border-right: 1px solid var(--main);
      z-index: 999;
      padding: 70px 20px 20px;
      transition: all 0.3s;
      overflow-y: auto;
    }

    .side-menu.active {
      left: 0;
    }

    .menu-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 998;
      display: none;
    }

    .menu-overlay.active {
      display: block;
    }

    .menu-item {
      padding: 12px 15px;
      border-radius: 8px;
      margin-bottom: 5px;
      cursor: pointer;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .menu-item:hover {
      background: rgba(76, 175, 80, 0.1);
    }

    .menu-item i {
      width: 20px;
      text-align: center;
    }

    /* Main Content */
    .main-content {
      padding: 80px 20px 20px;
      max-width: 800px;
      margin: 0 auto;
    }

    .glass-box {
      background: rgba(76, 175, 80, 0.03);
      border: 1px solid rgba(76, 175, 80, 0.2);
      border-radius: 15px;
      padding: 20px;
      backdrop-filter: blur(10px);
      margin-bottom: 20px;
    }

    /* Role Menu Styles */
    .role-form-group {
      margin-bottom: 15px;
    }

    .role-form-group label {
      display: block;
      margin-bottom: 5px;
      color: #aaa;
    }

    .role-input {
      background: rgba(255, 255, 255, 0.05);
      color: white;
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 8px;
      padding: 10px;
      width: 100%;
    }

    .role-actions {
      display: flex;
      gap: 10px;
      margin-top: 20px;
    }

    .btn {
      padding: 10px 15px;
      border-radius: 8px;
      border: none;
      background: var(--main);
      color: white;
      cursor: pointer;
      transition: all 0.3s;
    }

    .btn:hover {
      background: var(--second);
    }

    .btn-danger {
      background: #f44336;
    }

    .btn-danger:hover {
      background: #d32f2f;
    }

    .role-selector {
      display: flex;
      border: 1px solid var(--main);
      border-radius: 8px;
      overflow: hidden;
      margin-bottom: 15px;
    }

    .role-option {
      flex: 1;
      text-align: center;
      padding: 8px;
      cursor: pointer;
      background: rgba(76, 175, 80, 0.1);
      transition: all 0.3s;
    }

    .role-option.active {
      background: var(--main);
      color: black;
      font-weight: bold;
    }

    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .fade-in {
      animation: fadeIn 0.3s forwards;
    }
  </style>
</head>
<body>
  <!-- Header with Hamburger -->
  <div class="header">
    <div class="hamburger" id="hamburger">
      <div class="hamburger-line"></div>
      <div class="hamburger-line"></div>
      <div class="hamburger-line"></div>
    </div>
    <div class="logo">UltraXweb</div>
    <div></div> <!-- Spacer -->
  </div>

  <!-- Side Menu -->
  <div class="side-menu" id="sideMenu">
    <!-- Menu items will be populated by JavaScript based on role -->
  </div>
  <div class="menu-overlay" id="menuOverlay"></div>

  <!-- Main Content -->
  <div class="main-content">
    <!-- Login Form (shown by default) -->
    <div class="glass-box" id="loginBox">
      <h2 style="text-align: center; margin-bottom: 20px; color: var(--main);">Welcome to UltraXweb</h2>
      <div class="role-form-group">
        <label>Username</label>
        <input type="text" id="username" class="role-input">
      </div>
      <div class="role-form-group">
        <label>Password</label>
        <input type="password" id="password" class="role-input">
      </div>
      <div class="role-actions">
        <button class="btn" style="width: 100%;" onclick="login()">Login</button>
      </div>
      <div id="loginResult" style="margin-top: 15px; text-align: center;"></div>
    </div>

    <!-- Dashboard (hidden by default) -->
    <div class="glass-box hidden" id="dashboard">
      <h2 style="text-align: center; margin-bottom: 20px; color: var(--main);" id="welcomeText">Welcome</h2>
      <div class="role-form-group">
        <label>Target Number</label>
        <input type="text" id="target" class="role-input" placeholder="Example: 628xxx">
      </div>
      <div class="role-actions">
        <button class="btn" style="width: 100%;" onclick="sendBug()">Send Bug</button>
      </div>
      <div id="result" style="margin-top: 15px;"></div>
    </div>

    <!-- Admin: Create User -->
    <div class="glass-box hidden fade-in" id="adminCreateUser">
      <h2 style="margin-bottom: 15px;"><i class="fas fa-user-plus"></i> Create User</h2>
      <div class="role-form-group">
        <label>Username</label>
        <input type="text" id="newUsername" class="role-input">
      </div>
      <div class="role-form-group">
        <label>Password</label>
        <input type="password" id="newPassword" class="role-input">
      </div>
      <div class="role-form-group">
        <label>Role</label>
        <div class="role-selector">
          <div class="role-option active" onclick="selectRole(this, 'admin')">Admin</div>
          <div class="role-option" onclick="selectRole(this, 'reseller')">Reseller</div>
          <div class="role-option" onclick="selectRole(this, 'user')">User</div>
        </div>
      </div>
      <div class="role-form-group">
        <label>Days</label>
        <input type="number" id="newDays" class="role-input" min="1" value="30">
      </div>
      <div class="role-actions">
        <button class="btn" onclick="createUser()">Create</button>
        <button class="btn" onclick="hideAllMenus()">Close</button>
      </div>
    </div>

    <!-- Admin: Delete User -->
    <div class="glass-box hidden fade-in" id="adminDeleteUser">
      <h2 style="margin-bottom: 15px;"><i class="fas fa-user-times"></i> Delete User</h2>
      <div class="role-form-group">
        <label>Username</label>
        <input type="text" id="deleteUsername" class="role-input">
      </div>
      <div class="role-actions">
        <button class="btn btn-danger" onclick="deleteUser()">Delete</button>
        <button class="btn" onclick="hideAllMenus()">Close</button>
      </div>
    </div>

    <!-- Admin/Account: Reset Password -->
    <div class="glass-box hidden fade-in" id="resetPassword">
      <h2 style="margin-bottom: 15px;"><i class="fas fa-key"></i> Reset Password</h2>
      <div class="role-form-group">
        <label>Old Password</label>
        <input type="password" id="oldPassword" class="role-input">
      </div>
      <div class="role-form-group">
        <label>New Password</label>
        <input type="password" id="newPassword" class="role-input">
      </div>
      <div class="role-actions">
        <button class="btn" onclick="resetPassword()">Reset</button>
        <button class="btn" onclick="hideAllMenus()">Close</button>
      </div>
    </div>

    <!-- Admin: Send Notification -->
    <div class="glass-box hidden fade-in" id="adminSendNotif">
      <h2 style="margin-bottom: 15px;"><i class="fas fa-bell"></i> Send Notification</h2>
      <div class="role-form-group">
        <label>Message</label>
        <textarea id="notifMessage" class="role-input" style="height: 100px;"></textarea>
      </div>
      <div class="role-actions">
        <button class="btn" onclick="sendNotification()">Send</button>
        <button class="btn" onclick="hideAllMenus()">Close</button>
      </div>
    </div>

    <!-- Reseller: Create User -->
    <div class="glass-box hidden fade-in" id="resellerCreateUser">
      <h2 style="margin-bottom: 15px;"><i class="fas fa-user-plus"></i> Create User</h2>
      <div class="role-form-group">
        <label>Username</label>
        <input type="text" id="resellerUsername" class="role-input">
      </div>
      <div class="role-form-group">
        <label>Password</label>
        <input type="password" id="resellerPassword" class="role-input">
      </div>
      <div class="role-form-group">
        <label>Days</label>
        <select id="resellerDays" class="role-input">
          <option value="1">1 Day</option>
          <option value="7">7 Days</option>
          <option value="30">30 Days</option>
        </select>
      </div>
      <div class="role-actions">
        <button class="btn" onclick="resellerCreateUser()">Create</button>
        <button class="btn" onclick="hideAllMenus()">Close</button>
      </div>
    </div>
  </div>

  <script>
    // Global variables
    let currentUser = null;
    let selectedRole = 'admin';

    // DOM elements
    const hamburger = document.getElementById('hamburger');
    const sideMenu = document.getElementById('sideMenu');
    const menuOverlay = document.getElementById('menuOverlay');
    const loginBox = document.getElementById('loginBox');
    const dashboard = document.getElementById('dashboard');

    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      // Check if user is already logged in
      const user = JSON.parse(localStorage.getItem('currentUser'));
      if (user) {
        currentUser = user;
        showDashboard();
      }

      // Hamburger menu click event
      hamburger.addEventListener('click', toggleMenu);
      menuOverlay.addEventListener('click', toggleMenu);
    });

    // Toggle side menu
    function toggleMenu() {
      sideMenu.classList.toggle('active');
      menuOverlay.classList.toggle('active');
    }

    // Hide all menu boxes
    function hideAllMenus() {
      document.querySelectorAll('.glass-box').forEach(box => {
        if (!box.id.includes('loginBox') && !box.id.includes('dashboard')) {
          box.classList.add('hidden');
        }
      });
      toggleMenu();
    }

    // Show specific menu box
    function showMenu(menuId) {
      hideAllMenus();
      document.getElementById(menuId).classList.remove('hidden');
    }

    // Update side menu based on user role
    function updateSideMenu() {
      sideMenu.innerHTML = '';
      
      if (!currentUser) return;

      // Common menu items
      const menuItems = [];
      
      if (currentUser.role === 'admin') {
        menuItems.push(
          { icon: 'fa-user-plus', text: 'Create User', action: () => showMenu('adminCreateUser') },
          { icon: 'fa-user-times', text: 'Delete User', action: () => showMenu('adminDeleteUser') },
          { icon: 'fa-key', text: 'Reset Password', action: () => showMenu('resetPassword') },
          { icon: 'fa-bell', text: 'Send Notification', action: () => showMenu('adminSendNotif') }
        );
      } else if (currentUser.role === 'reseller') {
        menuItems.push(
          { icon: 'fa-user-plus', text: 'Create User', action: () => showMenu('resellerCreateUser') },
          { icon: 'fa-key', text: 'Reset Password', action: () => showMenu('resetPassword') }
        );
      } else {
        menuItems.push(
          { icon: 'fa-key', text: 'Reset Password', action: () => showMenu('resetPassword') }
        );
      }

      // Add menu items to side menu
      menuItems.forEach(item => {
        const menuItem = document.createElement('div');
        menuItem.className = 'menu-item';
        menuItem.innerHTML = `<i class="fas ${item.icon}"></i> ${item.text}`;
        menuItem.addEventListener('click', item.action);
        sideMenu.appendChild(menuItem);
      });

      // Add logout button
      const logoutItem = document.createElement('div');
      logoutItem.className = 'menu-item';
      logoutItem.innerHTML = '<i class="fas fa-sign-out-alt"></i> Logout';
      logoutItem.addEventListener('click', logout);
      logoutItem.style.marginTop = '20px';
      logoutItem.style.color = '#f44336';
      sideMenu.appendChild(logoutItem);
    }

    // Login function
    async function login() {
      const username = document.getElementById('username').value;
      const password = document.getElementById('password').value;
      const loginResult = document.getElementById('loginResult');

      // In a real app, you would verify credentials with your backend
      // This is a simplified example
      if (!username || !password) {
        loginResult.innerHTML = 'Please enter username and password';
        loginResult.style.color = '#f44336';
        return;
      }

      // Simulate API call
      try {
        // This would be your actual API call to verify credentials
        // const response = await fetch('/api/login', { method: 'POST', body: JSON.stringify({ username, password }) });
        // const user = await response.json();
        
        // For demo purposes, we'll create a mock user
        const mockUsers = [
          { username: 'admin', password: 'admin123', role: 'admin', expired: '2024-12-31' },
          { username: 'reseller', password: 'reseller123', role: 'reseller', expired: '2024-06-30' },
          { username: 'user', password: 'user123', role: 'user', expired: '2024-03-31' }
        ];

        const user = mockUsers.find(u => u.username === username && u.password === password);

        if (!user) {
          loginResult.innerHTML = 'Invalid username or password';
          loginResult.style.color = '#f44336';
          return;
        }

        currentUser = user;
        localStorage.setItem('currentUser', JSON.stringify(user));
        showDashboard();
      } catch (error) {
        loginResult.innerHTML = 'Login failed: ' + error.message;
        loginResult.style.color = '#f44336';
      }
    }

    // Show dashboard
    function showDashboard() {
      loginBox.classList.add('hidden');
      dashboard.classList.remove('hidden');
      document.getElementById('welcomeText').textContent = `Welcome, ${currentUser.username}`;
      updateSideMenu();
    }

    // Logout function
    function logout() {
      currentUser = null;
      localStorage.removeItem('currentUser');
      loginBox.classList.remove('hidden');
      dashboard.classList.add('hidden');
      hideAllMenus();
      document.getElementById('username').value = '';
      document.getElementById('password').value = '';
    }

    // Select role for user creation
    function selectRole(element, role) {
      document.querySelectorAll('.role-option').forEach(opt => {
        opt.classList.remove('active');
      });
      element.classList.add('active');
      selectedRole = role;
    }

    // Admin: Create user
    function createUser() {
      const username = document.getElementById('newUsername').value;
      const password = document.getElementById('newPassword').value;
      const days = parseInt(document.getElementById('newDays').value);

      if (!username || !password || isNaN(days)) {
        alert('Please fill all fields correctly');
        return;
      }

      // In a real app, you would send this to your backend
      alert(`User ${username} created successfully with ${days} days access`);
      hideAllMenus();
    }

    // Admin: Delete user
    function deleteUser() {
      const username = document.getElementById('deleteUsername').value;

      if (!username) {
        alert('Please enter username');
        return;
      }

      // In a real app, you would send this to your backend
      alert(`User ${username} deleted successfully`);
      hideAllMenus();
    }

    // Reset password (admin and regular users)
    function resetPassword() {
      const oldPassword = document.getElementById('oldPassword').value;
      const newPassword = document.getElementById('newPassword').value;

      if (!oldPassword || !newPassword) {
        alert('Please fill all fields');
        return;
      }

      // In a real app, you would verify old password and update
      alert('Password changed successfully');
      hideAllMenus();
    }

    // Admin: Send notification
    function sendNotification() {
      const message = document.getElementById('notifMessage').value;

      if (!message) {
        alert('Please enter notification message');
        return;
      }

      // In a real app, you would send this to all users
      alert('Notification sent to all users');
      hideAllMenus();
    }

    // Reseller: Create user
    function resellerCreateUser() {
      const username = document.getElementById('resellerUsername').value;
      const password = document.getElementById('resellerPassword').value;
      const days = document.getElementById('resellerDays').value;

      if (!username || !password) {
        alert('Please fill all fields');
        return;
      }

      // In a real app, you would send this to your backend
      alert(`User ${username} created successfully with ${days} days access`);
      hideAllMenus();
    }

    // Send bug
    function sendBug() {
      const target = document.getElementById('target').value;

      if (!target) {
        alert('Please enter target number');
        return;
      }

      // In a real app, you would send this to your backend
      alert(`Bug sent to ${target}`);
    }
  </script>
</body>
</html>